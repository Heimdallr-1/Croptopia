package com.epherical.croptopia.datagen;

import net.minecraft.core.HolderLookup;
import net.minecraft.core.registries.Registries;
import net.minecraft.data.PackOutput;
import net.minecraft.data.tags.TagsProvider;
import net.minecraft.resources.ResourceLocation;
import net.minecraft.world.level.biome.Biome;
import net.neoforged.neoforge.common.Tags;
import net.neoforged.neoforge.common.data.ExistingFileHelper;

import javax.annotation.Nullable;
import java.util.concurrent.CompletableFuture;

import static com.epherical.croptopia.CroptopiaMod.MODID;
import static com.epherical.croptopia.common.Tags.*;
import static net.minecraft.world.level.biome.Biomes.*;


public class CroptopiaBiomeTagProvider extends TagsProvider<Biome> {


    public CroptopiaBiomeTagProvider(PackOutput output, CompletableFuture<HolderLookup.Provider> provider,
                                     @Nullable ExistingFileHelper existingFileHelper) {
        super(output, Registries.BIOME, provider, MODID, existingFileHelper);
    }


    @Override
    protected void addTags(HolderLookup.Provider provider) {
        addCrops(provider);
        addTrees(provider);

        tag(HAS_SALT)
                .addTag(Tags.Biomes.IS_RIVER)
                .addTag(Tags.Biomes.IS_OCEAN)
                .addTag(Tags.Biomes.IS_DEEP_OCEAN)
                .addTag(Tags.Biomes.IS_SHALLOW_OCEAN)
                .addTag(Tags.Biomes.IS_FOREST)
                .addTag(Tags.Biomes.IS_DESERT)
                .addTag(Tags.Biomes.IS_PLAINS)
                .addTag(Tags.Biomes.IS_TAIGA)
                .addTag(Tags.Biomes.IS_BADLANDS)
                .addTag(Tags.Biomes.IS_BIRCH_FOREST)
                .addTag(Tags.Biomes.IS_HILL)
                .addTag(Tags.Biomes.IS_JUNGLE);


    }

    private void addTrees(HolderLookup.Provider provider) {
        tag(HAS_ORANGE)
                .add(FLOWER_FOREST, PLAINS, FOREST, SUNFLOWER_PLAINS, WINDSWEPT_FOREST)
                .addOptional(bopID("orchard"))
                .addOptional(key("biomeswevegone:orchard"))
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:steppe"));
        tag(HAS_DRAGONFRUIT)
                .add(SPARSE_JUNGLE, JUNGLE)
                .addOptional(bopID("tropics"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("biomeswevegone:tropical_islands"))
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("terralith:amethyst_canyon"))
                .addOptional(key("terralith:amethyst_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:tropical_jungle"));
        tag(HAS_KUMQUAT)
                .add(SPARSE_JUNGLE, JUNGLE)
                .addOptional(bopID("mediterranean_forest"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("biomeswevegone:tropical_islands"))
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("terralith:amethyst_canyon"))
                .addOptional(key("terralith:amethyst_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:tropical_jungle"))
                .addOptional(key("terralith:blooming_valley"));
        tag(HAS_BANANA)
                .add(SPARSE_JUNGLE, JUNGLE)
                .addOptional(bopID("tropics"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("biomeswevegone:tropical_islands"))
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("terralith:amethyst_canyon"))
                .addOptional(key("terralith:amethyst_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:tropical_jungle"));
        tag(HAS_PLUM)
                .add(FLOWER_FOREST, WINDSWEPT_FOREST, FOREST)
                .addOptional(bopID("maple_woods"))
                .addOptional(bopID("orchard"))
                .addOptional(key("minecraft:flower_forest"))
                .addOptional(key("biomeswevegone:autumnal_forest"))
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:jacaranda_forest"))
                .addOptional(key("biomeswevegone:autumnal_taiga"))
                .addOptional(key("minecraft:windswept_forest"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("biomeswevegone:orchard"));
        tag(HAS_DATE)
                .add(JUNGLE, SPARSE_JUNGLE)
                .addOptional(bopID("tropics"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("biomeswevegone:tropical_islands"))
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("terralith:amethyst_canyon"))
                .addOptional(key("terralith:amethyst_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:tropical_jungle"));
        tag(HAS_CASHEW)
                .add(DARK_FOREST)
                .addOptional(bopID("bayou"))
                .addOptional(key("biomeswevegone:weeping_witch_forest"))
                .addOptional(key("biomeswevegone:dacite_ridges"))
                .addOptional(key("biomeswevegone:ebony_woods"))
                .addOptional(key("biomeswevegone:maple_taiga"))
                .addOptional(key("biomeswevegone:twilight_meadow"));
        tag(HAS_MANGO)
                .add(SPARSE_JUNGLE, JUNGLE)
                .addOptional(bopID("tropics"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("biomeswevegone:tropical_islands"))
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("terralith:amethyst_canyon"))
                .addOptional(key("terralith:amethyst_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:tropical_jungle"));
        tag(HAS_COCONUT)
                .add(SPARSE_JUNGLE, JUNGLE)
                .addOptional(bopID("tropics"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("biomeswevegone:tropical_islands"))
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("terralith:amethyst_canyon"))
                .addOptional(key("terralith:amethyst_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:tropical_jungle"));
        tag(HAS_APRICOT)
                .add(FLOWER_FOREST, FOREST, WINDSWEPT_FOREST)
                .addOptional(bopID("orchard"))
                .addOptional(key("biomeswevegone:orchard"))
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"));
        tag(HAS_NUTMEG)
                .add(SPARSE_JUNGLE, JUNGLE)
                .addOptional(bopID("bog"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("biomeswevegone:tropical_islands"))
                .addOptional(key("traverse:mini_jungle"))
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("terralith:amethyst_canyon"))
                .addOptional(key("terralith:amethyst_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:tropical_jungle"));
        tag(HAS_PERSIMMON)
                .add(FLOWER_FOREST, FOREST, WINDSWEPT_FOREST)
                .addOptional(bopID("orchard"))
                .addOptional(bopID("maple_woods"))
                .addOptional(key("biomeswevegone:orchard"))
                .addOptional(key("biomeswevegone:autumnal_forest"))
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:jacaranda_forest"))
                .addOptional(key("biomeswevegone:autumnal_taiga"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"));
        tag(HAS_ALMOND)
                .add(DARK_FOREST)
                .addOptional(bopID("forested_field"))
                .addOptional(bopID("maple_woods"))
                .addOptional(key("biomeswevegone:weeping_witch_forest"))
                .addOptional(key("biomeswevegone:dacite_ridges"))
                .addOptional(key("biomeswevegone:ebony_woods"))
                .addOptional(key("biomeswevegone:maple_taiga"))
                .addOptional(key("biomeswevegone:twilight_meadow"));
        tag(HAS_AVOCADO)
                .add(FLOWER_FOREST, FOREST, WINDSWEPT_FOREST)
                .addOptional(bopID("orchard"))
                .addOptional(key("biomeswevegone:orchard"))
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"));
        tag(HAS_FIG)
                .add(SPARSE_JUNGLE, JUNGLE)
                .addOptional(bopID("tropics"))
                .addOptional(bopID("maple_woods"))
                .addOptional(bopID("mediterranean_forest"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("biomeswevegone:tropical_islands"))
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("terralith:amethyst_canyon"))
                .addOptional(key("terralith:amethyst_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:tropical_jungle"));
        tag(HAS_CINNAMON)
                .add(SPARSE_JUNGLE, JUNGLE)
                .addOptional(bopID("rainforest"))
                .addOptional(bopID("tropics"))
                .addOptional(key("biomeswevegone:white_mangrove_marshes"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("biomeswevegone:temperate_rainforest"))
                .addOptional(key("biomeswevegone:cypress_swamplands"))
                .addOptional(key("biomeswevegone:tropical_islands"))
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("terralith:amethyst_canyon"))
                .addOptional(key("terralith:amethyst_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:tropical_jungle"));
        tag(HAS_PEACH)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(bopID("orchard"))
                .addOptional(bopID("jacaranda_glade"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"))
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:steppe"));
        tag(HAS_APPLE)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(bopID("jacaranda_glade"))
                .addOptional(bopID("orchard"))
                .addOptional(key("biomeswevegone:prairie"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"))
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:steppe"));
        tag(HAS_PEAR)
                .add(FLOWER_FOREST, FOREST, WINDSWEPT_FOREST)
                .addOptional(bopID("orchard"))
                .addOptional(key("biomeswevegone:orchard"))
                .addOptional(key("biomeswevegone:autumnal_forest"))
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:jacaranda_forest"))
                .addOptional(key("biomeswevegone:autumnal_taiga"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"));
        tag(HAS_GRAPEFRUIT)
                .add(SPARSE_JUNGLE, JUNGLE)
                .addOptional(bopID("wetland"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("biomeswevegone:tropical_islands"))
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("terralith:amethyst_canyon"))
                .addOptional(key("terralith:amethyst_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:tropical_jungle"));
        tag(HAS_STARFRUIT)
                .add(FLOWER_FOREST, FOREST, WINDSWEPT_FOREST)
                .addOptional(bopID("tropics"))
                .addOptional(key("biomeswevegone:orchard"))
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"))
                .addOptional(key("terralith:steppe"));
        tag(HAS_NECTARINE)
                .add(FLOWER_FOREST, FOREST, WINDSWEPT_FOREST)
                .addOptional(bopID("seasonal_forest"))
                .addOptional(key("biomeswevegone:orchard"))
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"));
        tag(HAS_LEMON)
                .addOptional(bopID("orchard"))
                .add(FLOWER_FOREST, FOREST, WINDSWEPT_FOREST)
                .addOptional(key("biomeswevegone:orchard"))
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"));
        tag(HAS_CHERRY)
                .addOptional(bopID("orchard"))
                .add(FLOWER_FOREST, FOREST, WINDSWEPT_FOREST)
                .addOptional(key("biomeswevegone:orchard"))
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:cherry_blossom_forest"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"));
        tag(HAS_LIME)
                .addOptional(bopID("orchard"))
                .add(FLOWER_FOREST, FOREST, WINDSWEPT_FOREST)
                .addOptional(key("biomeswevegone:orchard"))
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"));
        tag(HAS_PECAN)
                .add(DARK_FOREST)
                .addOptional(bopID("seasonal_forest"))
                .addOptional(key("biomeswevegone:weeping_witch_forest"))
                .addOptional(key("biomeswevegone:dacite_ridges"))
                .addOptional(key("biomeswevegone:ebony_woods"))
                .addOptional(key("biomeswevegone:maple_taiga"))
                .addOptional(key("biomeswevegone:twilight_meadow"))
                .addOptional(key("terralith:birch_taiga"));
        tag(HAS_WALNUT)
                .add(DARK_FOREST)
                .addOptional(bopID("seasonal_forest"))
                .addOptional(key("biomeswevegone:weeping_witch_forest"))
                .addOptional(key("biomeswevegone:dacite_ridges"))
                .addOptional(key("biomeswevegone:ebony_woods"))
                .addOptional(key("biomeswevegone:maple_taiga"))
                .addOptional(key("biomeswevegone:twilight_meadow"))
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:steppe"));

    }

    private void addCrops(HolderLookup.Provider provider) {
        tag(HAS_ARTICHOKE)
                .add(SWAMP)
                .addOptional(key("biomeswevegone:cypress_swamplands"))
                .addOptional(key("biomeswevegone:white_mangrove_marshes"))
                .addOptional(key("terralith:mirage_isles"))
                .addOptional(key("terralith:orchid_swamp"))
                .addOptional(key("biomesoplenty:marsh"))
                .addOptional(key("biomesoplenty:bayou"))
                .addOptional(key("biomesoplenty:bog"));
        tag(HAS_ASPARAGUS)
                .add(SWAMP)
                .addOptional(key("terralith:mirage_isles"))
                .addOptional(key("terralith:orchid_swamp"))
                .addOptional(key("biomesoplenty:marsh"))
                .addOptional(key("biomesoplenty:bayou"))
                .addOptional(key("biomesoplenty:bog"));
        tag(HAS_BARLEY)
                .add(PLAINS, SUNFLOWER_PLAINS, OLD_GROWTH_PINE_TAIGA, OLD_GROWTH_SPRUCE_TAIGA, TAIGA, SNOWY_TAIGA)
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"));
        tag(HAS_BASIL)
                .add(JUNGLE, SPARSE_JUNGLE, BAMBOO_JUNGLE)
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:rocky_jungle"))
                .addOptional(key("terralith:tropical_jungle"))
                .addOptional(key("biomesoplenty:floodplain"))
                .addOptional(key("biomesoplenty:fungal_jungle"))
                .addOptional(key("biomesoplenty:rainforest"))
                .addOptional(key("biomesoplenty:rocky_rainforest"));
        tag(HAS_BELLPEPPER)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"));
        tag(HAS_BLACKBEAN)
                .add(FOREST, FLOWER_FOREST, BIRCH_FOREST, DARK_FOREST, OLD_GROWTH_BIRCH_FOREST, GROVE)
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"));
        tag(HAS_BLACKBERRY)
                .add(FOREST, FLOWER_FOREST, BIRCH_FOREST, DARK_FOREST, OLD_GROWTH_BIRCH_FOREST, OLD_GROWTH_PINE_TAIGA,
                        OLD_GROWTH_SPRUCE_TAIGA, TAIGA, SNOWY_TAIGA, GROVE)
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:black_forest"))
                .addOptional(key("biomeswevegone:borealis_grove"))
                .addOptional(key("biomeswevegone:cherry_blossom_forest"))
                .addOptional(key("biomeswevegone:cika_woods"))
                .addOptional(key("biomeswevegone:coniferous_forest"))
                .addOptional(key("biomeswevegone:ebony_woods"))
                .addOptional(key("biomeswevegone:forgotten_forest"))
                .addOptional(key("biomeswevegone:maple_taiga"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("biomeswevegone:autumnal_forest"))
                .addOptional(key("biomeswevegone:autumnal_taiga"))
                .addOptional(key("biomeswevegone:redwood_thicket"))
                .addOptional(key("biomeswevegone:frosted_taiga"))
                .addOptional(key("biomeswevegone:frosted_coniferous_forest"))
                .addOptional(key("biomeswevegone:fragment_forest"))
                .addOptional(key("biomeswevegone:twilight_meadow"))
                .addOptional(key("biomeswevegone:weeping_witch_forest"))
                .addOptional(key("biomeswevegone:temperate_rainforest"))
                .addOptional(key("biomeswevegone:zelkova_forest"))
                .addOptional(key("terralith:alpine_grove"))
                .addOptional(key("terralith:alpine_highlands"))
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:forested_highlands"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:lush_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:siberian_grove"))
                .addOptional(key("terralith:siberian_taiga"))
                .addOptional(key("terralith:snowy_maple_forest"))
                .addOptional(key("terralith:snowy_shield"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("terralith:yosemite_lowlands"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_BLUEBERRY)
                .add(FOREST, FLOWER_FOREST, BIRCH_FOREST, DARK_FOREST, OLD_GROWTH_BIRCH_FOREST, OLD_GROWTH_PINE_TAIGA,
                        OLD_GROWTH_SPRUCE_TAIGA, TAIGA, SNOWY_TAIGA, GROVE)
                .addOptional(key("terralith:alpine_highlands"))
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"));
        tag(HAS_BROCCOLI)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_CABBAGE)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_CANTALOUPE)
                .add(FOREST, FLOWER_FOREST, BIRCH_FOREST, DARK_FOREST, OLD_GROWTH_BIRCH_FOREST, GROVE)
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:borealis_grove"))
                .addOptional(key("biomeswevegone:cherry_blossom_forest"))
                .addOptional(key("biomeswevegone:cika_woods"))
                .addOptional(key("biomeswevegone:ebony_woods"))
                .addOptional(key("biomeswevegone:forgotten_forest"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("biomeswevegone:autumnal_forest"))
                .addOptional(key("biomeswevegone:redwood_thicket"))
                .addOptional(key("biomeswevegone:fragment_forest"))
                .addOptional(key("biomeswevegone:twilight_meadow"))
                .addOptional(key("biomeswevegone:weeping_witch_forest"))
                .addOptional(key("biomeswevegone:temperate_rainforest"))
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"));
        tag(HAS_CAULIFLOWER)
                .add(FOREST, FLOWER_FOREST, BIRCH_FOREST, DARK_FOREST, OLD_GROWTH_BIRCH_FOREST, GROVE)
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:borealis_grove"))
                .addOptional(key("biomeswevegone:cherry_blossom_forest"))
                .addOptional(key("biomeswevegone:cika_woods"))
                .addOptional(key("biomeswevegone:ebony_woods"))
                .addOptional(key("biomeswevegone:forgotten_forest"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("biomeswevegone:autumnal_forest"))
                .addOptional(key("biomeswevegone:redwood_thicket"))
                .addOptional(key("biomeswevegone:fragment_forest"))
                .addOptional(key("biomeswevegone:twilight_meadow"))
                .addOptional(key("biomeswevegone:weeping_witch_forest"))
                .addOptional(key("biomeswevegone:temperate_rainforest"))
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"));
        tag(HAS_CELERY)
                .add(FOREST, FLOWER_FOREST, BIRCH_FOREST, DARK_FOREST, OLD_GROWTH_BIRCH_FOREST, GROVE)
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:borealis_grove"))
                .addOptional(key("biomeswevegone:cherry_blossom_forest"))
                .addOptional(key("biomeswevegone:cika_woods"))
                .addOptional(key("biomeswevegone:ebony_woods"))
                .addOptional(key("biomeswevegone:forgotten_forest"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("biomeswevegone:autumnal_forest"))
                .addOptional(key("biomeswevegone:redwood_thicket"))
                .addOptional(key("biomeswevegone:fragment_forest"))
                .addOptional(key("biomeswevegone:twilight_meadow"))
                .addOptional(key("biomeswevegone:weeping_witch_forest"))
                .addOptional(key("biomeswevegone:temperate_rainforest"))
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"));
        tag(HAS_CHILE_PEPPER)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_COFFEE_BEANS)
                .add(JUNGLE, SPARSE_JUNGLE, BAMBOO_JUNGLE)
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:rocky_jungle"))
                .addOptional(key("terralith:tropical_jungle"))
                .addOptional(key("biomesoplenty:floodplain"))
                .addOptional(key("biomesoplenty:fungal_jungle"))
                .addOptional(key("biomesoplenty:rainforest"))
                .addOptional(key("biomesoplenty:rocky_rainforest"));
        tag(HAS_CORN)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(key("biomeswevegone:allium_fields"))
                .addOptional(key("biomeswevegone:amaranth_fields"))
                .addOptional(key("biomeswevegone:autumnal_valley"))
                .addOptional(key("biomeswevegone:temperate_grove"))
                .addOptional(key("biomeswevegone:coconino_meadow"))
                .addOptional(key("biomeswevegone:orchard"))
                .addOptional(key("biomeswevegone:prairie"))
                .addOptional(key("biomeswevegone:rose_fields"))
                .addOptional(key("biomeswevegone:sierra_badlands"))
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:cold_shrubland"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:rocky_mountains"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"))
                .addOptional(key("terralith:scarlet_mountains"))
                .addOptional(key("terralith:shield"))
                .addOptional(key("terralith:shrubland"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("terralith:wintry_forest"))
                .addOptional(key("terralith:wintry_lowlands"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_CRANBERRY)
                .add(SWAMP)
                .addOptional(key("terralith:mirage_isles"))
                .addOptional(key("terralith:orchid_swamp"))
                .addOptional(key("biomesoplenty:marsh"))
                .addOptional(key("biomesoplenty:bayou"))
                .addOptional(key("biomesoplenty:bog"));
        tag(HAS_CUCUMBER)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(key("biomeswevegone:allium_fields"))
                .addOptional(key("biomeswevegone:amaranth_fields"))
                .addOptional(key("biomeswevegone:autumnal_valley"))
                .addOptional(key("biomeswevegone:temperate_grove"))
                .addOptional(key("biomeswevegone:coconino_meadow"))
                .addOptional(key("biomeswevegone:orchard"))
                .addOptional(key("biomeswevegone:prairie"))
                .addOptional(key("biomeswevegone:rose_fields"))
                .addOptional(key("biomeswevegone:sierra_badlands"))
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_CURRANT)
                .add(SWAMP)
                .addOptional(key("terralith:mirage_isles"))
                .addOptional(key("terralith:orchid_swamp"))
                .addOptional(key("biomesoplenty:marsh"))
                .addOptional(key("biomesoplenty:bayou"))
                .addOptional(key("biomesoplenty:bog"));
        tag(HAS_EGGPLANT)
                .add(JUNGLE, SPARSE_JUNGLE, BAMBOO_JUNGLE)
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:rocky_jungle"))
                .addOptional(key("terralith:tropical_jungle"))
                .addOptional(key("biomesoplenty:floodplain"))
                .addOptional(key("biomesoplenty:fungal_jungle"))
                .addOptional(key("biomesoplenty:rainforest"))
                .addOptional(key("biomesoplenty:rocky_rainforest"));
        tag(HAS_ELDERBERRY)
                .add(FOREST, FLOWER_FOREST, BIRCH_FOREST, DARK_FOREST, OLD_GROWTH_BIRCH_FOREST, GROVE)
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"));
        tag(HAS_GARLIC)
                .add(JUNGLE, SPARSE_JUNGLE, BAMBOO_JUNGLE)
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("biomeswevegone:guiana_shield"))
                .addOptional(key("biomeswevegone:jacaranda_forest"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:rocky_jungle"))
                .addOptional(key("terralith:tropical_jungle"))
                .addOptional(key("biomesoplenty:floodplain"))
                .addOptional(key("biomesoplenty:fungal_jungle"))
                .addOptional(key("biomesoplenty:rainforest"))
                .addOptional(key("biomesoplenty:rocky_rainforest"));
        tag(HAS_GINGER)
                .add(SAVANNA, SAVANNA_PLATEAU, WINDSWEPT_SAVANNA)
                .addOptional(key("terralith:arid_highlands"))
                .addOptional(key("terralith:brushland"))
                .addOptional(key("terralith:fractured_savanna"))
                .addOptional(key("terralith:savanna_badlands"))
                .addOptional(key("terralith:savanna_slopes"))
                .addOptional(key("biomesoplenty:dryland"))
                .addOptional(key("biomesoplenty:lush_savanna"))
                .addOptional(key("biomesoplenty:scrubland"))
                .addOptional(key("biomesoplenty:wooded_scrubland"));
        tag(HAS_GRAPE)
                .add(FOREST,FLOWER_FOREST,BIRCH_FOREST, DARK_FOREST, OLD_GROWTH_BIRCH_FOREST, GROVE)
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"));
        tag(HAS_GREENBEAN)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(key("biomeswevegone:allium_fields"))
                .addOptional(key("biomeswevegone:amaranth_fields"))
                .addOptional(key("biomeswevegone:autumnal_valley"))
                .addOptional(key("biomeswevegone:temperate_grove"))
                .addOptional(key("biomeswevegone:coconino_meadow"))
                .addOptional(key("biomeswevegone:orchard"))
                .addOptional(key("biomeswevegone:prairie"))
                .addOptional(key("biomeswevegone:rose_fields"))
                .addOptional(key("biomeswevegone:sierra_badlands"))
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_GREENONION)
                .add(JUNGLE, SPARSE_JUNGLE, BAMBOO_JUNGLE)
                .addOptional(key("terralith:amethyst_canyon"))
                .addOptional(key("terralith:amethyst_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:rocky_jungle"))
                .addOptional(key("terralith:tropical_jungle"))
                .addOptional(key("biomesoplenty:floodplain"))
                .addOptional(key("biomesoplenty:fungal_jungle"))
                .addOptional(key("biomesoplenty:rainforest"))
                .addOptional(key("biomesoplenty:rocky_rainforest"));
        tag(HAS_HONEYDEW)
                .add(JUNGLE, SPARSE_JUNGLE, BAMBOO_JUNGLE)
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:rocky_jungle"))
                .addOptional(key("terralith:tropical_jungle"))
                .addOptional(key("biomesoplenty:floodplain"))
                .addOptional(key("biomesoplenty:fungal_jungle"))
                .addOptional(key("biomesoplenty:rainforest"))
                .addOptional(key("biomesoplenty:rocky_rainforest"));
        tag(HAS_HOPS)
                .add(SAVANNA, SAVANNA_PLATEAU, WINDSWEPT_SAVANNA)
                .addOptional(key("terralith:arid_highlands"))
                .addOptional(key("terralith:brushland"))
                .addOptional(key("terralith:fractured_savanna"))
                .addOptional(key("terralith:savanna_badlands"))
                .addOptional(key("terralith:savanna_slopes"))
                .addOptional(key("biomesoplenty:dryland"))
                .addOptional(key("biomesoplenty:lush_savanna"))
                .addOptional(key("biomesoplenty:scrubland"))
                .addOptional(key("biomesoplenty:wooded_scrubland"));
        tag(HAS_KALE)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(key("biomeswevegone:allium_fields"))
                .addOptional(key("biomeswevegone:amaranth_fields"))
                .addOptional(key("biomeswevegone:autumnal_valley"))
                .addOptional(key("biomeswevegone:temperate_grove"))
                .addOptional(key("biomeswevegone:coconino_meadow"))
                .addOptional(key("biomeswevegone:orchard"))
                .addOptional(key("biomeswevegone:prairie"))
                .addOptional(key("biomeswevegone:rose_fields"))
                .addOptional(key("biomeswevegone:sierra_badlands"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_KIWI)
                .add(SAVANNA, SAVANNA_PLATEAU, WINDSWEPT_SAVANNA)
                .addOptional(key("biomeswevegone:araucaria_savanna"))
                .addOptional(key("biomeswevegone:baobab_savanna"))
                .addOptional(key("terralith:arid_highlands"))
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:brushland"))
                .addOptional(key("terralith:fractured_savanna"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:savanna_badlands"))
                .addOptional(key("terralith:savanna_slopes"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("biomesoplenty:dryland"))
                .addOptional(key("biomesoplenty:lush_savanna"))
                .addOptional(key("biomesoplenty:scrubland"))
                .addOptional(key("biomesoplenty:wooded_scrubland"));
        tag(HAS_LEEK)
                .add(SAVANNA, SAVANNA_PLATEAU, WINDSWEPT_SAVANNA)
                .addOptional(key("terralith:arid_highlands"))
                .addOptional(key("terralith:brushland"))
                .addOptional(key("terralith:fractured_savanna"))
                .addOptional(key("terralith:savanna_badlands"))
                .addOptional(key("terralith:savanna_slopes"))
                .addOptional(key("biomesoplenty:dryland"))
                .addOptional(key("biomesoplenty:lush_savanna"))
                .addOptional(key("biomesoplenty:scrubland"))
                .addOptional(key("biomesoplenty:wooded_scrubland"));
        tag(HAS_LETTUCE)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_MUSTARD)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_OAT)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_OLIVE)
                .add(SAVANNA, SAVANNA_PLATEAU, WINDSWEPT_SAVANNA)
                .addOptional(key("terralith:arid_highlands"))
                .addOptional(key("terralith:brushland"))
                .addOptional(key("terralith:fractured_savanna"))
                .addOptional(key("terralith:savanna_badlands"))
                .addOptional(key("terralith:savanna_slopes"))
                .addOptional(key("biomesoplenty:dryland"))
                .addOptional(key("biomesoplenty:lush_savanna"))
                .addOptional(key("biomesoplenty:scrubland"))
                .addOptional(key("biomesoplenty:wooded_scrubland"));
        tag(HAS_ONION)
                .add(JUNGLE, SPARSE_JUNGLE, BAMBOO_JUNGLE)
                .addOptional(key("terralith:alpine_grove"))
                .addOptional(key("terralith:forested_highlands"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:lush_valley"))
                .addOptional(key("terralith:rocky_jungle"))
                .addOptional(key("terralith:siberian_grove"))
                .addOptional(key("terralith:siberian_taiga"))
                .addOptional(key("terralith:snowy_maple_forest"))
                .addOptional(key("terralith:snowy_shield"))
                .addOptional(key("terralith:tropical_jungle"))
                .addOptional(key("terralith:yosemite_lowlands"))
                .addOptional(key("biomesoplenty:floodplain"))
                .addOptional(key("biomesoplenty:fungal_jungle"))
                .addOptional(key("biomesoplenty:rainforest"))
                .addOptional(key("biomesoplenty:rocky_rainforest"));
        tag(HAS_PEANUT)
                .add(JUNGLE, SPARSE_JUNGLE, BAMBOO_JUNGLE)
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("biomeswevegone:guiana_shield"))
                .addOptional(key("biomeswevegone:jacaranda_forest"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:rocky_jungle"))
                .addOptional(key("terralith:tropical_jungle"))
                .addOptional(key("biomesoplenty:floodplain"))
                .addOptional(key("biomesoplenty:fungal_jungle"))
                .addOptional(key("biomesoplenty:rainforest"))
                .addOptional(key("biomesoplenty:rocky_rainforest"));
        tag(HAS_PEPPER)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(key("terralith:ashen_savanna"))
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_PINEAPPLE)
                .add(JUNGLE, SPARSE_JUNGLE, BAMBOO_JUNGLE)
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("biomeswevegone:guiana_shield"))
                .addOptional(key("biomeswevegone:jacaranda_forest"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:rocky_jungle"))
                .addOptional(key("terralith:tropical_jungle"))
                .addOptional(key("biomesoplenty:floodplain"))
                .addOptional(key("biomesoplenty:fungal_jungle"))
                .addOptional(key("biomesoplenty:rainforest"))
                .addOptional(key("biomesoplenty:rocky_rainforest"));
        tag(HAS_RADISH)
                .add(FLOWER_FOREST, FOREST, BIRCH_FOREST, DARK_FOREST, OLD_GROWTH_BIRCH_FOREST, GROVE)
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:borealis_grove"))
                .addOptional(key("biomeswevegone:cherry_blossom_forest"))
                .addOptional(key("biomeswevegone:cika_woods"))
                .addOptional(key("biomeswevegone:ebony_woods"))
                .addOptional(key("biomeswevegone:forgotten_forest"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("biomeswevegone:autumnal_forest"))
                .addOptional(key("biomeswevegone:redwood_thicket"))
                .addOptional(key("biomeswevegone:fragment_forest"))
                .addOptional(key("biomeswevegone:twilight_meadow"))
                .addOptional(key("biomeswevegone:weeping_witch_forest"))
                .addOptional(key("biomeswevegone:temperate_rainforest"))
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"));
        tag(HAS_RASPBERRY)
                .add(FOREST, FLOWER_FOREST, BIRCH_FOREST, DARK_FOREST,
                        OLD_GROWTH_BIRCH_FOREST,OLD_GROWTH_PINE_TAIGA, OLD_GROWTH_SPRUCE_TAIGA,
                        TAIGA, SNOWY_TAIGA, GROVE)
                .addOptional(key("biomeswevegone:aspen_forest"))
                .addOptional(key("biomeswevegone:black_forest"))
                .addOptional(key("biomeswevegone:borealis_grove"))
                .addOptional(key("biomeswevegone:cherry_blossom_forest"))
                .addOptional(key("biomeswevegone:cika_woods"))
                .addOptional(key("biomeswevegone:coniferous_forest"))
                .addOptional(key("biomeswevegone:ebony_woods"))
                .addOptional(key("biomeswevegone:forgotten_forest"))
                .addOptional(key("biomeswevegone:maple_taiga"))
                .addOptional(key("biomeswevegone:red_oak_forest"))
                .addOptional(key("biomeswevegone:autumnal_forest"))
                .addOptional(key("biomeswevegone:autumnal_taiga"))
                .addOptional(key("biomeswevegone:redwood_thicket"))
                .addOptional(key("biomeswevegone:frosted_taiga"))
                .addOptional(key("biomeswevegone:frosted_coniferous_forest"))
                .addOptional(key("biomeswevegone:fragment_forest"))
                .addOptional(key("biomeswevegone:twilight_meadow"))
                .addOptional(key("biomeswevegone:weeping_witch_forest"))
                .addOptional(key("biomeswevegone:temperate_rainforest"))
                .addOptional(key("biomeswevegone:zelkova_forest"))
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_RHUBARB)
                .add(JUNGLE, SPARSE_JUNGLE, BAMBOO_JUNGLE)
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("biomeswevegone:guiana_shield"))
                .addOptional(key("biomeswevegone:jacaranda_forest"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:rocky_jungle"))
                .addOptional(key("terralith:tropical_jungle"))
                .addOptional(key("biomesoplenty:floodplain"))
                .addOptional(key("biomesoplenty:fungal_jungle"))
                .addOptional(key("biomesoplenty:rainforest"))
                .addOptional(key("biomesoplenty:rocky_rainforest"));
        tag(HAS_RICE)
                .add(JUNGLE, SPARSE_JUNGLE, BAMBOO_JUNGLE)
                .addOptional(key("terralith:amethyst_canyon"))
                .addOptional(key("terralith:amethyst_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:rocky_jungle"))
                .addOptional(key("terralith:tropical_jungle"))
                .addOptional(key("biomesoplenty:floodplain"))
                .addOptional(key("biomesoplenty:fungal_jungle"))
                .addOptional(key("biomesoplenty:rainforest"))
                .addOptional(key("biomesoplenty:rocky_rainforest"));
        tag(HAS_RUTABAGA)
                .add(OLD_GROWTH_PINE_TAIGA, OLD_GROWTH_SPRUCE_TAIGA, TAIGA, SNOWY_TAIGA, SAVANNA_PLATEAU, SAVANNA_PLATEAU, WINDSWEPT_SAVANNA)
                .addOptional(key("biomeswevegone:araucaria_savanna"))
                .addOptional(key("biomeswevegone:baobab_savanna"))
                .addOptional(key("biomeswevegone:black_forest"))
                .addOptional(key("biomeswevegone:coniferous_forest"))
                .addOptional(key("biomeswevegone:maple_taiga"))
                .addOptional(key("biomeswevegone:autumnal_taiga"))
                .addOptional(key("biomeswevegone:frosted_taiga"))
                .addOptional(key("biomeswevegone:frosted_coniferous_forest"))
                .addOptional(key("biomeswevegone:zelkova_forest"))
                .addOptional(key("terralith:arid_highlands"))
                .addOptional(key("terralith:brushland"))
                .addOptional(key("terralith:fractured_savanna"))
                .addOptional(key("terralith:savanna_badlands"))
                .addOptional(key("terralith:savanna_slopes"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"))
                .addOptional(key("biomesoplenty:dryland"))
                .addOptional(key("biomesoplenty:lush_savanna"))
                .addOptional(key("biomesoplenty:scrubland"))
                .addOptional(key("biomesoplenty:wooded_scrubland"));
        tag(HAS_SAGUARO)
                .add(DESERT)
                .addOptional(key("biomeswevegone:atacama_desert"))
                .addOptional(key("biomeswevegone:windswept_dunes"))
                .addOptional(key("biomeswevegone:windswept_desert"))
                .addOptional(key("biomeswevegone:mojave_desert"))
                .addOptional(key("biomeswevegone:red_rock_valley"))
                .addOptional(key("biomeswevegone:firecracker_shrubland"))
                .addOptional(key("terralith:ancient_sands"))
                .addOptional(key("terralith:bryce_canyon"))
                .addOptional(key("terralith:desert_canyon"))
                .addOptional(key("terralith:desert_oasis"))
                .addOptional(key("terralith:desert_spires"))
                .addOptional(key("terralith:hot_shrubland"))
                .addOptional(key("terralith:painted_mountains"))
                .addOptional(key("terralith:red_oasis"))
                .addOptional(key("terralith:sandstone_valley"))
                .addOptional(key("terralith:warped_mesa"));
        tag(HAS_SOYBEAN)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_SPINACH)
                .add(FOREST, FLOWER_FOREST, BIRCH_FOREST, DARK_FOREST, OLD_GROWTH_BIRCH_FOREST)
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"));
        tag(HAS_SQUASH)
                .add(OLD_GROWTH_PINE_TAIGA, OLD_GROWTH_SPRUCE_TAIGA, TAIGA, SNOWY_TAIGA, SAVANNA, SAVANNA_PLATEAU, WINDSWEPT_SAVANNA)
                .addOptional(key("terralith:alpine_grove"))
                .addOptional(key("terralith:arid_highlands"))
                .addOptional(key("terralith:brushland"))
                .addOptional(key("terralith:cold_shrubland"))
                .addOptional(key("terralith:forested_highlands"))
                .addOptional(key("terralith:fractured_savanna"))
                .addOptional(key("terralith:lush_valley"))
                .addOptional(key("terralith:rocky_mountains"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"))
                .addOptional(key("terralith:savanna_badlands"))
                .addOptional(key("terralith:savanna_slopes"))
                .addOptional(key("terralith:scarlet_mountains"))
                .addOptional(key("terralith:shield"))
                .addOptional(key("terralith:shrubland"))
                .addOptional(key("terralith:siberian_grove"))
                .addOptional(key("terralith:siberian_taiga"))
                .addOptional(key("terralith:snowy_maple_forest"))
                .addOptional(key("terralith:snowy_shield"))
                .addOptional(key("terralith:wintry_forest"))
                .addOptional(key("terralith:wintry_lowlands"))
                .addOptional(key("terralith:yosemite_lowlands"))
                .addOptional(key("biomesoplenty:dryland"))
                .addOptional(key("biomesoplenty:lush_savanna"))
                .addOptional(key("biomesoplenty:scrubland"))
                .addOptional(key("biomesoplenty:wooded_scrubland"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_STRAWBERRY)
                .add(FOREST,FLOWER_FOREST,BIRCH_FOREST, DARK_FOREST, OLD_GROWTH_BIRCH_FOREST, OLD_GROWTH_PINE_TAIGA,
                        OLD_GROWTH_SPRUCE_TAIGA, TAIGA, SNOWY_TAIGA, GROVE)
                .addOptional(key("terralith:alpine_highlands"))
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:blooming_plateau"))
                .addOptional(key("terralith:blooming_valley"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:highlands"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:steppe"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("terralith:valley_clearing"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"));
        tag(HAS_SWEETPOTATO)
                .add(PLAINS, SUNFLOWER_PLAINS)
                .addOptional(key("terralith:cold_shrubland"))
                .addOptional(key("terralith:rocky_mountains"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"))
                .addOptional(key("terralith:scarlet_mountains"))
                .addOptional(key("terralith:shield"))
                .addOptional(key("terralith:shrubland"))
                .addOptional(key("terralith:wintry_forest"))
                .addOptional(key("terralith:wintry_lowlands"))
                .addOptional(key("biomesoplenty:bog"))
                .addOptional(key("biomesoplenty:coniferous_forest"))
                .addOptional(key("biomesoplenty:field"))
                .addOptional(key("biomesoplenty:fir_cleaning"))
                .addOptional(key("biomesoplenty:maple_woods"))
                .addOptional(key("biomesoplenty:tundra"));
        tag(HAS_TEA_LEAVES)
                .add(FOREST, FLOWER_FOREST, BIRCH_FOREST, DARK_FOREST, OLD_GROWTH_BIRCH_FOREST, GROVE)
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"));
        tag(HAS_TOMATILLO)
                .add(FOREST, FLOWER_FOREST, BIRCH_FOREST, DARK_FOREST, OLD_GROWTH_BIRCH_FOREST, GROVE)
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"));
        tag(HAS_TOMATO)
                .add(FOREST, FLOWER_FOREST, BIRCH_FOREST, DARK_FOREST, OLD_GROWTH_BIRCH_FOREST, GROVE)
                .addOptional(key("terralith:birch_taiga"))
                .addOptional(key("terralith:cloud_forest"))
                .addOptional(key("terralith:lavender_forest"))
                .addOptional(key("terralith:lavender_valley"))
                .addOptional(key("terralith:moonlight_grove"))
                .addOptional(key("terralith:moonlight_valley"))
                .addOptional(key("terralith:temperate_highlands"))
                .addOptional(key("biomesoplenty:bamboo_grove"))
                .addOptional(key("biomesoplenty:cherry_blossom_grove"))
                .addOptional(key("biomesoplenty:mediterranean_forest"))
                .addOptional(key("biomesoplenty:mystic_grove"))
                .addOptional(key("biomesoplenty:orchard"))
                .addOptional(key("biomesoplenty:pumpkin_patch"))
                .addOptional(key("biomesoplenty:redwood_forest"))
                .addOptional(key("biomesoplenty:seasonal_forest"))
                .addOptional(key("biomesoplenty:seasonal_orchard"))
                .addOptional(key("biomesoplenty:woodland"));
        tag(HAS_TURMERIC)
                .add(SAVANNA, SAVANNA_PLATEAU, WINDSWEPT_SAVANNA)
                .addOptional(key("biomeswevegone:araucaria_savanna"))
                .addOptional(key("biomeswevegone:baobab_savanna"))
                .addOptional(key("terralith:arid_highlands"))
                .addOptional(key("terralith:brushland"))
                .addOptional(key("terralith:fractured_savanna"))
                .addOptional(key("terralith:savanna_badlands"))
                .addOptional(key("terralith:savanna_slopes"))
                .addOptional(key("biomesoplenty:dryland"))
                .addOptional(key("biomesoplenty:lush_savanna"))
                .addOptional(key("biomesoplenty:scrubland"))
                .addOptional(key("biomesoplenty:wooded_scrubland"));
        tag(HAS_TURNIP)
                .add(JUNGLE, SPARSE_JUNGLE, BAMBOO_JUNGLE)
                .addOptional(key("biomeswevegone:crag_gardens"))
                .addOptional(key("biomeswevegone:guiana_shield"))
                .addOptional(key("biomeswevegone:jacaranda_forest"))
                .addOptional(key("biomeswevegone:tropical_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:rocky_jungle"))
                .addOptional(key("terralith:tropical_jungle"))
                .addOptional(key("biomesoplenty:floodplain"))
                .addOptional(key("biomesoplenty:fungal_jungle"))
                .addOptional(key("biomesoplenty:rainforest"))
                .addOptional(key("biomesoplenty:rocky_rainforest"));
        tag(HAS_VANILLA)
                .add(JUNGLE, SPARSE_JUNGLE, BAMBOO_JUNGLE)
                .addOptional(key("terralith:amethyst_canyon"))
                .addOptional(key("terralith:amethyst_rainforest"))
                .addOptional(key("terralith:jungle_mountains"))
                .addOptional(key("terralith:rocky_jungle"))
                .addOptional(key("terralith:tropical_jungle"))
                .addOptional(key("biomesoplenty:floodplain"))
                .addOptional(key("biomesoplenty:fungal_jungle"))
                .addOptional(key("biomesoplenty:rainforest"))
                .addOptional(key("biomesoplenty:rocky_rainforest"));
        tag(HAS_YAM)
                .add(SAVANNA, SAVANNA_PLATEAU, WINDSWEPT_SAVANNA)
                .addOptional(key("terralith:arid_highlands"))
                .addOptional(key("terralith:brushland"))
                .addOptional(key("terralith:cold_shrubland"))
                .addOptional(key("terralith:fractured_savanna"))
                .addOptional(key("terralith:rocky_mountains"))
                .addOptional(key("terralith:sakura_grove"))
                .addOptional(key("terralith:sakura_valley"))
                .addOptional(key("terralith:savanna_badlands"))
                .addOptional(key("terralith:savanna_slopes"))
                .addOptional(key("terralith:scarlet_mountains"))
                .addOptional(key("terralith:shield"))
                .addOptional(key("terralith:shrubland"))
                .addOptional(key("terralith:wintry_forest"))
                .addOptional(key("terralith:wintry_lowlands"))
                .addOptional(key("biomesoplenty:dryland"))
                .addOptional(key("biomesoplenty:lush_savanna"))
                .addOptional(key("biomesoplenty:scrubland"))
                .addOptional(key("biomesoplenty:wooded_scrubland"));
        tag(HAS_ZUCCHINI)
                .add(SAVANNA, SAVANNA_PLATEAU, WINDSWEPT_SAVANNA)
                .addOptional(key("terralith:arid_highlands"))
                .addOptional(key("terralith:brushland"))
                .addOptional(key("terralith:fractured_savanna"))
                .addOptional(key("terralith:savanna_badlands"))
                .addOptional(key("terralith:savanna_slopes"))
                .addOptional(key("biomesoplenty:dryland"))
                .addOptional(key("biomesoplenty:lush_savanna"))
                .addOptional(key("biomesoplenty:scrubland"))
                .addOptional(key("biomesoplenty:wooded_scrubland"));
    }

    private static ResourceLocation key(String name) {
        return ResourceLocation.parse(name);
    }


    private static ResourceLocation biomeswevegoneID(String name) {
        return ResourceLocation.fromNamespaceAndPath("biomeswevegone", name);
    }

    private static ResourceLocation bopID(String name) {
        return ResourceLocation.fromNamespaceAndPath("biomesoplenty", name);
    }
}
